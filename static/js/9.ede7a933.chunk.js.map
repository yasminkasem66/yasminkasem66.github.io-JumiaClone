{"version":3,"sources":["Component/UpdatePassword/UpdatePassword.js","Store/actions/UserActions/updatePassword.js"],"names":["UpdatePassword","useTranslation","t","dispatch","i18n","useDispatch","navigate","useNavigate","id","JSON","parse","localStorage","getItem","userId","useEffect","getSingleUser","useState","oldPassword","newPassword","user","setUser","showPassword1","setShowPassword1","showPassword2","setShowPassword2","oldPasswordErr","newPasswordErr","userErrors","setUserErrors","handelFormChange","e","target","name","value","length","MiddeleHeader","LowerHeader","className","onSubmit","console","log","a","axiosInstance","patch","response","type","UPDATE_USER_PASSWORD","payload","data","msg","updatePassword","placeholder","onChange","onClick","preventDefault","class","style","backgroundColor","Footer2"],"mappings":"mSAWe,SAASA,IACtB,MAAoBC,cAAZC,EAAR,EAAQA,EACFC,GADN,EAAWC,KACMC,eACXC,EAAWC,cACXC,EAAKC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,OACpDC,qBAAU,WACRX,EAASY,YAAcP,MACtB,IAIH,MAAwBQ,mBAAS,CAG/BC,YAAa,GACbC,YAAa,KAJf,mBAAOC,EAAP,KAAaC,EAAb,KAMA,EAA0CJ,oBAAS,GAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KACA,EAA0CN,oBAAS,GAAnD,mBAAOO,EAAP,KAAsBC,EAAtB,KACA,EAAoCR,mBAAS,CAC3CS,eAAgB,KAChBC,eAAgB,OAFlB,mBAAOC,EAAP,KAAmBC,EAAnB,KAaMC,EAAmB,SAACC,GAGxB,OAAQA,EAAEC,OAAOC,MACf,IAAK,cACHZ,EAAQ,2BACHD,GADE,IAELF,YAAaa,EAAEC,OAAOE,SAExBL,EAAc,2BACTD,GADQ,IAEXF,eACoB,GAAlBK,EAAEC,OAAOE,MACL,yBACAH,EAAEC,OAAOE,MAAQ,GACjB,yBACA,QAER,MACF,IAAK,cACHb,EAAQ,2BACHD,GADE,IAELD,YAAaY,EAAEC,OAAOE,SAExBL,EAAc,2BACTD,GADQ,IAEXD,eAC2B,GAAzBI,EAAEC,OAAOE,MAAMC,OACX,yBACAJ,EAAEC,OAAOE,MAAMC,OAAS,EACxB,2BACA,UAed,OACE,qCACE,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,IACA,qBAAKC,UAAU,oBAAf,SACE,uBAAMC,SAde,SAACR,GAG1BS,QAAQC,IAAI,UAAWrB,GACvBhB,EClF0B,SAACgB,GAAD,8CAAU,WAAOhB,GAAP,eAAAsC,EAAA,+EAEbC,IAAcC,MAAd,4BAErBxB,GAJkC,OAE9ByB,EAF8B,OAMpCL,QAAQC,IAAI,WAAYI,GACxBzC,EAAS,CACP0C,KAAMC,IACNC,QAASH,EAASI,KAAKC,MATW,gDAYpCV,QAAQC,IAAR,MAZoC,yDAAV,sDDkFjBU,CAAe/B,IACxBb,EAAS,MASL,UAEE,sBAAK+B,UAAU,6EAAf,UACE,uBACEA,UAAU,yDACVQ,KAAMxB,EAAgB,OAAS,WAC/B8B,YAAajD,EAAE,eACf8B,KAAK,cACLoB,SAAUvB,IAEZ,sBAAMQ,UAAU,YAAYgB,QArElB,SAACvB,GACnBA,EAAEwB,iBACFhC,GAAkBD,IAmEV,SACE,mBAAGkC,MAAM,oBAIb,sBAAKlB,UAAU,6EAAf,UACE,uBACEA,UAAU,yDACVQ,KAAMtB,EAAgB,OAAS,WAC/B4B,YAAajD,EAAE,gBACf8B,KAAK,cACLoB,SAAUvB,IAEZ,sBAAMQ,UAAU,YAAYgB,QA9ElB,SAACvB,GACnBA,EAAEwB,iBACF9B,GAAkBD,IA4EV,SACE,mBAAGgC,MAAM,oBAGb,qBAAKlB,UAAU,sBAAf,SACE,yBACEA,UAAU,8GACVmB,MAAO,CAAEC,gBAAiB,WAF5B,UAIE,mBAAGpB,UAAU,WAAWkB,MAAM,8BAC9B,mDACA,mCAKR,cAACG,EAAA,EAAD","file":"static/js/9.ede7a933.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Navigate, useNavigate } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Footer2 from \"../Footer2/Footer2\";\r\nimport LowerHeader from \"../Headers/LowerHeader/LowerHeader\";\r\nimport MiddeleHeader from \"../Headers/MiddleHeader/MiddeleHeader\";\r\nimport ImageContainer from \"../ImageContainer/ImageContainer\";\r\nimport { getSingleUser } from \"../../Store/actions/UserActions/getSingleUser\";\r\nimport { updatePassword } from \"../../Store/actions/UserActions/updatePassword\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function UpdatePassword() {\r\n  const { t, i18n } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const id = JSON.parse(localStorage.getItem(\"user\")).userId;\r\n  useEffect(() => {\r\n    dispatch(getSingleUser(id));\r\n  }, []);\r\n\r\n  // const userinfo = useSelector((state) => state.users);\r\n  // console.log(\"userrrrrrrrrrrrrrrrr\", userinfo);\r\n  const [user, setUser] = useState({\r\n    // name: userinfo.name,\r\n    // email: userinfo.email,\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n  });\r\n  const [showPassword1, setShowPassword1] = useState(false);\r\n  const [showPassword2, setShowPassword2] = useState(false);\r\n  const [userErrors, setUserErrors] = useState({\r\n    oldPasswordErr: null,\r\n    newPasswordErr: null,\r\n  });\r\n\r\n  const togglePass1 = (e) => {\r\n    e.preventDefault(); // Important! If you don't include this your page will refresh\r\n    setShowPassword1(!showPassword1);\r\n  };\r\n  const togglePass2 = (e) => {\r\n    e.preventDefault(); // Important! If you don't include this your page will refresh\r\n    setShowPassword2(!showPassword2);\r\n  };\r\n  const handelFormChange = (e) => {\r\n    // console.log(e.target.name, \" :\", e.target.value);\r\n    // console.log(\"Userrrrr\", \" :\", user);\r\n    switch (e.target.name) {\r\n      case \"oldPassword\":\r\n        setUser({\r\n          ...user,\r\n          oldPassword: e.target.value,\r\n        });\r\n        setUserErrors({\r\n          ...userErrors,\r\n          oldPasswordErr:\r\n            e.target.value == 0\r\n              ? \"this field is required\"\r\n              : e.target.value < 10\r\n              ? \"Minimum oldPassword 10\"\r\n              : null,\r\n        });\r\n        break;\r\n      case \"newPassword\":\r\n        setUser({\r\n          ...user,\r\n          newPassword: e.target.value,\r\n        });\r\n        setUserErrors({\r\n          ...userErrors,\r\n          newPasswordErr:\r\n            e.target.value.length == 0\r\n              ? \"this field is required\"\r\n              : e.target.value.length < 4\r\n              ? \"Minimum length 4 letters\"\r\n              : null,\r\n        });\r\n        break;\r\n    }\r\n  };\r\n\r\n  const updateUserPassword = (e) => {\r\n    // console.log(\"welcome\");\r\n    //e.preventDefault();\r\n    console.log(\"adduser\", user);\r\n    dispatch(updatePassword(user));\r\n    navigate(\"/\");\r\n  };\r\n  // End login\r\n\r\n  return (\r\n    <>\r\n      <MiddeleHeader />\r\n      <LowerHeader />\r\n      <div className=\"w-50 mx-auto mt-5\">\r\n        <form onSubmit={updateUserPassword}>\r\n          {/* input oldPassword */}\r\n          <div className=\"col  mb-4 border-muted  border-bottom  me-4 d-flex justify-content-between\">\r\n            <input\r\n              className=\"form-control form-control-lg fs-6 border-0 shadow-none\"\r\n              type={showPassword1 ? \"text\" : \"password\"}\r\n              placeholder={t(\"oldPassword\")}\r\n              name=\"oldPassword\"\r\n              onChange={handelFormChange}\r\n            />\r\n            <span className=\"me-1 mt-3\" onClick={togglePass1}>\r\n              <i class=\"fas fa-eye\"></i>\r\n            </span>\r\n          </div>\r\n          {/* input password */}\r\n          <div className=\"col  mb-4 border-muted  border-bottom  me-4 d-flex justify-content-between\">\r\n            <input\r\n              className=\"form-control form-control-lg fs-6 border-0 shadow-none\"\r\n              type={showPassword2 ? \"text\" : \"password\"}\r\n              placeholder={t(\"New Password\")}\r\n              name=\"newPassword\"\r\n              onChange={handelFormChange}\r\n            />\r\n            <span className=\"me-1 mt-3\" onClick={togglePass2}>\r\n              <i class=\"fas fa-eye\"></i>\r\n            </span>\r\n          </div>\r\n          <div className=\"row py-4 col-rows-1\">\r\n            <button\r\n              className=\"btn btn-primary border border-none p-2 rounded  fs-5 fw-bold d-flex justify-content-between text-uppercase \"\r\n              style={{ backgroundColor: \"#f68b1e\" }}\r\n            >\r\n              <i className=\"loginBtn\" class=\"fas fa-envelope mt-1 ms-1\"></i>\r\n              <span>Update Password</span>\r\n              <span></span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Footer2 />\r\n    </>\r\n  );\r\n}\r\n","import { UPDATE_USER_PASSWORD } from \"../../types\";\r\nimport { axiosInstance } from \"../../../network\";\r\nexport const updatePassword = (user) => async (dispatch) => {\r\n  try {\r\n    const response = await axiosInstance.patch(\r\n      `/users/updateUserPassword`,\r\n      user\r\n    );\r\n    console.log(\"response\", response);\r\n    dispatch({\r\n      type: UPDATE_USER_PASSWORD,\r\n      payload: response.data.msg,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n"],"sourceRoot":""}