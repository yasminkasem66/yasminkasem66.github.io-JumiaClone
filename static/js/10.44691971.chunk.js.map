{"version":3,"sources":["Component/UpdateReviewComponent/UpdateReviewComponent.js"],"names":["UpdateReviewComponent","oldReview","JSON","parse","localStorage","getItem","console","log","useState","rating","title","comment","user","product","Review","setReview","ratingErr","titleErr","commentErr","ReviewErrors","setReviewErrors","dispatch","useDispatch","navigate","useNavigate","handelFormChange","e","target","name","value","length","Number","className","onSubmit","preventDefault","updateReview","_id","setTimeout","onChange","type","placeholder","style","backgroundColor","class"],"mappings":"4OAQe,SAASA,IACtB,IAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,WAClDC,QAAQC,IAAI,gBAAiBN,GAK7B,MAA4BO,mBAAS,CACnCC,OAAQ,GACRC,MAAO,GACPC,QAAS,GACTC,KAAMX,EAAUW,KAChBC,QAASZ,EAAUY,UALrB,mBAAOC,EAAP,KAAeC,EAAf,KAOA,EAAwCP,mBAAS,CAC/CQ,UAAW,KACXC,SAAU,GACVC,WAAY,KAHd,mBAAOC,EAAP,KAAqBC,EAArB,KAKMC,EAAWC,cACXC,EAAWC,cACXC,EAAmB,SAACC,GAGxB,OAFApB,QAAQC,IAAImB,EAAEC,OAAOC,KAAM,KAAMF,EAAEC,OAAOE,OAC1CvB,QAAQC,IAAI,aAAc,KAAMO,GACxBY,EAAEC,OAAOC,MACf,IAAK,QACHb,EAAU,2BACLD,GADI,IAEPJ,MAAOgB,EAAEC,OAAOE,SAElBT,EAAgB,2BACXD,GADU,IAEbF,SACoB,GAAlBS,EAAEC,OAAOE,MACL,yBACAH,EAAEC,OAAOE,MAAQ,GACjB,mBACA,QAER,MACF,IAAK,UACHd,EAAU,2BACLD,GADI,IAEPH,QAASe,EAAEC,OAAOE,SAEpBT,EAAgB,2BACXD,GADU,IAEbD,WAC2B,GAAzBQ,EAAEC,OAAOE,MAAMC,OACX,yBACAJ,EAAEC,OAAOE,MAAMC,OAAS,EACxB,2BACA,QAER,MACF,IAAK,SACHf,EAAU,2BACLD,GADI,IAEPL,OAAQsB,OAAOL,EAAEC,OAAOE,UAE1BT,EAAgB,2BACXD,GADU,IAEbD,WAC2B,GAAzBQ,EAAEC,OAAOE,MAAMC,OACX,yBACAJ,EAAEC,OAAOE,MAAMC,OAAS,EACxB,2BACA,UAmBd,OACE,qCACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,sBAAKE,UAAU,oBAAf,UACE,uBAAOA,UAAU,kBAAjB,iCACA,uBAAMC,SApBc,SAACP,GACzBA,EAAEQ,iBACFb,EAASc,YAAarB,EAAQb,EAAUmC,MACxCC,YAAW,kBAAMd,EAAS,kBAAoBtB,EAAUY,WAAU,MAiB9D,UACE,qBAAKmB,UAAU,6EAAf,SACE,yBACEJ,KAAK,SACLU,SAAUb,EACVO,UAAU,cAHZ,UAME,wBAAQH,MAAO,EAAf,eACA,wBAAQA,MAAO,EAAf,eACA,wBAAQA,MAAO,EAAf,eACA,wBAAQA,MAAO,EAAf,eACA,wBAAQA,MAAO,EAAf,oBAIJ,qBAAKG,UAAU,6EAAf,SACE,uBACEA,UAAU,yDACVO,KAAK,OACLC,YAAavC,EAAUS,MACvBkB,KAAK,QACLU,SAAUb,MAId,qBAAKO,UAAU,6EAAf,SACE,uBACEA,UAAU,yDACVO,KAAK,OACLC,YAAavC,EAAUU,QACvBiB,KAAK,UACLU,SAAUb,MAGd,qBAAKO,UAAU,sBAAf,SACE,yBACEA,UAAU,8GACVS,MAAO,CAAEC,gBAAiB,WAF5B,UAIE,mBAAGV,UAAU,WAAWW,MAAM,8BAC9B,8CACA,oCAKR,cAAC,IAAD","file":"static/js/10.44691971.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { updateReview } from \"../../Store/actions/Review/ReviewAction\";\r\nimport Footer2 from \"../Footer2/Footer2\";\r\nimport LowerHeader from \"../Headers/LowerHeader/LowerHeader\";\r\nimport MiddeleHeader from \"../Headers/MiddleHeader/MiddeleHeader\";\r\n\r\nexport default function UpdateReviewComponent() {\r\n  const oldReview = JSON.parse(localStorage.getItem(\"review\"));\r\n  console.log(\"update review\", oldReview);\r\n  //   const { id } = useParams();\r\n  //   const user_Id = JSON.parse(localStorage.getItem(\"user\")).userId;\r\n  //console.log(\"id id\", id, \" user id \", user_Id);\r\n\r\n  const [Review, setReview] = useState({\r\n    rating: \"\",\r\n    title: \"\",\r\n    comment: \"\",\r\n    user: oldReview.user,\r\n    product: oldReview.product,\r\n  });\r\n  const [ReviewErrors, setReviewErrors] = useState({\r\n    ratingErr: null,\r\n    titleErr: \"\",\r\n    commentErr: \"\",\r\n  });\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const handelFormChange = (e) => {\r\n    console.log(e.target.name, \" :\", e.target.value);\r\n    console.log(\"Reviewrrrr\", \" :\", Review);\r\n    switch (e.target.name) {\r\n      case \"title\":\r\n        setReview({\r\n          ...Review,\r\n          title: e.target.value,\r\n        });\r\n        setReviewErrors({\r\n          ...ReviewErrors,\r\n          titleErr:\r\n            e.target.value == 0\r\n              ? \"this field is required\"\r\n              : e.target.value < 10\r\n              ? \"Minimum title 10\"\r\n              : null,\r\n        });\r\n        break;\r\n      case \"comment\":\r\n        setReview({\r\n          ...Review,\r\n          comment: e.target.value,\r\n        });\r\n        setReviewErrors({\r\n          ...ReviewErrors,\r\n          commentErr:\r\n            e.target.value.length == 0\r\n              ? \"this field is required\"\r\n              : e.target.value.length < 4\r\n              ? \"Minimum length 4 letters\"\r\n              : null,\r\n        });\r\n        break;\r\n      case \"rating\":\r\n        setReview({\r\n          ...Review,\r\n          rating: Number(e.target.value),\r\n        });\r\n        setReviewErrors({\r\n          ...ReviewErrors,\r\n          commentErr:\r\n            e.target.value.length == 0\r\n              ? \"this field is required\"\r\n              : e.target.value.length < 4\r\n              ? \"Minimum length 4 letters\"\r\n              : null,\r\n        });\r\n        break;\r\n    }\r\n  };\r\n  const updateOrderReview = (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateReview(Review, oldReview._id));\r\n    setTimeout(() => navigate(\"/SingleProduct/\" + oldReview.product) ,500 )\r\n  };\r\n  //   const createOrderReview = (e) => {\r\n  //     e.preventDefault();\r\n  //     dispatch(createReview(Review));\r\n  //     setTimeout(() => {\r\n  //       navigate(\"/singleProduct/\" + id);\r\n  //     }, 800);\r\n\r\n  //     console.log(\"Review Review\", Review);\r\n  //   };\r\n  return (\r\n    <>\r\n      <MiddeleHeader />\r\n      <LowerHeader />\r\n      <div className=\"w-50 mx-auto mt-5\">\r\n        <label className=\"mb-1 text-muted\">Select Product Rate</label>\r\n        <form onSubmit={updateOrderReview}>\r\n          <div className=\"col  mb-4 border-muted  border-bottom  me-4 d-flex justify-content-between\">\r\n            <select\r\n              name=\"rating\"\r\n              onChange={handelFormChange}\r\n              className=\"form-select\"\r\n              // value={oldReview.rating}\r\n            >\r\n              <option value={1}>1</option>\r\n              <option value={2}>2</option>\r\n              <option value={3}>3</option>\r\n              <option value={4}>4</option>\r\n              <option value={5}>5</option>\r\n            </select>\r\n          </div>\r\n          {/* input title */}\r\n          <div className=\"col  mb-4 border-muted  border-bottom  me-4 d-flex justify-content-between\">\r\n            <input\r\n              className=\"form-control form-control-lg fs-6 border-0 shadow-none\"\r\n              type=\"text\"\r\n              placeholder={oldReview.title}\r\n              name=\"title\"\r\n              onChange={handelFormChange}\r\n            />\r\n          </div>\r\n          {/* input password */}\r\n          <div className=\"col  mb-4 border-muted  border-bottom  me-4 d-flex justify-content-between\">\r\n            <input\r\n              className=\"form-control form-control-lg fs-6 border-0 shadow-none\"\r\n              type=\"text\"\r\n              placeholder={oldReview.comment}\r\n              name=\"comment\"\r\n              onChange={handelFormChange}\r\n            />\r\n          </div>\r\n          <div className=\"row py-4 col-rows-1\">\r\n            <button\r\n              className=\"btn btn-primary border border-none p-2 rounded  fs-5 fw-bold d-flex justify-content-between text-uppercase \"\r\n              style={{ backgroundColor: \"#f68b1e\" }}\r\n            >\r\n              <i className=\"loginBtn\" class=\"fas fa-envelope mt-1 ms-1\"></i>\r\n              <span>Add Review</span>\r\n              <span></span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Footer2 />\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}